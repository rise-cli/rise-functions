<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
   
    <style>
        body {
            font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji;
            color: rgb(17, 24, 39);
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Inter;
        }

        h1 {
            opacity: 1;
            margin-top: 5rem;
            line-height: 1.25;
            font-size: 3rem;
            font-weight: 700;
            font-family: Inter;
            border-bottom: 1px solid rgb(229, 231, 235);
            margin-bottom: 20px;
            padding-bottom: 1rem;
        }

        h2 {
            margin-top: 2.5rem;
            line-height: 2.25;
            font-size: 2rem;
            font-weight: 700;
            font-family: Inter;

            margin-top: 2rem;
            margin-bottom: 1.5rem;
        }

        p {
            color: rgb(55, 65, 81);
            margin: 0;
            margin-bottom: 1rem;
        }

        nav {
            height: 60px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #f4f4f8;
            padding: 0 20px;
            position: fixed;
            z-index: 100;
            top: 0;
            right: 0;
            left: 0;
            background: white;
        }
        nav p {
            margin: 0;
        }

        .wrapper {
            max-width: 768px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.5;
            width: 90%;
        }
     
        .side-container {
            position: fixed;
            top: 61px;
            left: 0px;
            bottom: 20px;
            background: white;
            width: 200px;
            margin: 0;
            padding: 0;
            padding-top: 20px;
         
        }

        .side-container ul {
            margin: 0;
            padding: 0 20px;
        }

        .side-container li {
            list-style: none;
            padding: 6px 0 6px 0;
            border: 1px solid #fff;
            border-radius: 6px;
        }

        .side-container li.selected {
            background: #f4f4f8;
            border: 1px solid #eaeaed;
            border-radius: 6px;
        }

        .side-container a {
            color: rgb(113, 113, 113);
            display: flex;
            align-items: center;
            text-decoration: none;
            font-size: 14px;
            margin-left: 20px;
            
        }

        .side-container svg {
            margin-right: 6px;
            opacity: 0.3;
            margin-left: 20px;
        }

        .hamburger {
            margin-left: auto;
            display: none;
        }


        @media(max-width: 1200px) {
            .side-container {
               
                overflow-y: scroll;
                height: 100vh;
                width: 100%;
                transform: translateX(100%);
            }
            .side-container.open {
                transform: translateX(0);
            }
            .hamburger {
                display: block;
            }
        }

     
        .hamburger .line{
            width: 16px;
            height: 2px;
            background-color: rgb(17, 24, 39);
            display: block;
            margin: 3px auto;
            -webkit-transition: all 0.2s ease-in-out;
            -o-transition: all 0.2s ease-in-out;
            transition: all 0.2s ease-in-out;
        }

        .hamburger:hover{
            cursor: pointer;
        }

        .hamburger.open .line:nth-child(2){
            opacity: 0;
        }

        .hamburger.open .line:nth-child(1){
            -webkit-transform: translateY(5px) rotate(45deg);
            -ms-transform: translateY(5px) rotate(45deg);
            -o-transform: translateY(5px) rotate(45deg);
            transform: translateY(5px) rotate(45deg);
        }

        .hamburger.open .line:nth-child(3){
            -webkit-transform: translateY(-5px) rotate(-45deg);
            -ms-transform: translateY(-5px) rotate(-45deg);
            -o-transform: translateY(-5px) rotate(-45deg);
            transform: translateY(-5px) rotate(-45deg);
        }

        code[class*='language-'],
            pre[class*='language-'] {
            color: #e4f0fb;
            background: none;
            text-shadow: 0 1px rgba(0, 0, 0, 0.3);
            font-family: Menlo, Monaco, 'Courier New', monospace;
            font-size: 0.95em;
            text-align: left;
            white-space: pre;
            word-spacing: normal;
            word-break: normal;
            word-wrap: normal;
            line-height: 1.5;

            -moz-tab-size: 4;
            -o-tab-size: 4;
            tab-size: 4;

            -webkit-hyphens: none;
            -moz-hyphens: none;
            -ms-hyphens: none;
            hyphens: none;
        }

        /* Code blocks */
        pre[class*='language-'] {
            --comment: #a6accd;
            --punctuation: #e4f0fb;
            --property: #e4f0fb;
            --boolean: #5de4c7;
            --string: #5de4c7;
            --operator: #add7ff;
            --function: #5de4c7;
            --keyword: #add7ff;
            --literal: #fffac2;
            --falsy: #f087bd;

            padding: 1.75em;
            margin: 1.5em 0;
            overflow: auto;
            border-radius: 0.75em;
            border-radius: 0.75em;
        }

        :not(pre) > code[class*='language-'],
            pre[class*='language-'] {
            background: #252b37;
            
        }

        /* Inline code */
        :not(pre) > code[class*='language-'] {
            padding: 0.1em;
            border-radius: 0.3em;
            white-space: normal;
        }

        .token.namespace {
            opacity: 0.7;
        }

        .token.comment,
        .token.prolog,
        .token.doctype,
        .token.cdata {
            color: var(--comment);
        }

        .token.punctuation {
            color: var(--punctuation);
        }

        .token.property,
        .token.tag,
        .token.constant,
        .token.symbol,
        .token.deleted {
            color: var(--property);
        }

        .token.boolean,
        .token.number {
            color: var(--boolean);
        }

        .token.selector,
        .token.attr-value,
        .token.string,
        .token.char,
        .token.builtin,
        .token.inserted {
            color: var(--string);
        }

        .token.attr-name,
        .token.operator,
        .token.entity,
        .token.url,
        .language-css .token.string,
        .style .token.string,
        .token.variable {
            color: var(--operator);
        }

        .token.atrule,
        .token.function,
        .token.class-name {
            color: var(--function);
        }

        .token.keyword {
            color: var(--keyword);
        }

        .token.regex,
        .token.important {
            color: var(--literal);
        }

        .token.deleted {
            color: var(--falsy);
        }

        .token.important,
        .token.bold {
            font-weight: bold;
        }
        .token.italic {
            font-style: italic;
        }

        .token.entity {
            cursor: help;
        }
    </style>
</head>
<body>
    <nav>
        <svg  height="14px" viewBox="0 0 50 50" version="1.1">
    <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="linearGradient-1">
            <stop stop-color="#28c5bd" offset="0%"></stop>
            <stop stop-color="#119fb5" offset="100%"></stop>
        </linearGradient>
    </defs>
    <g id="logo" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <circle id="circle" fill="url(#linearGradient-1)" cx="25" cy="25" r="25"></circle>
    </g>
</svg><p style='margin-left: 6px; font-weight: bold'>Rise Functions</p>
        <p style='font-weight: normal; color: #adb3be; margin-left: 4px;'> Documentation</p>
     
        <div id='menu-button' class="hamburger" id="hamburger-1">
          <span class="line"></span>
          <span class="line"></span>
          <span class="line"></span>
        </div>
    </nav>
    <div id='menu' class="side-container">
        <ul>
            <li class='false'>
    <a href='index.html'>
        <span>Intro</span>
    </a>
</li>
<li class='selected'>
    <a href='functions.html'>
        <span>Functions</span>
    </a>
</li>
<li class='false'>
    <a href='keywords.html'>
        <span>Keywords</span>
    </a>
</li>
<li class='false'>
    <a href='experimental.html'>
        <span>Experimental</span>
    </a>
</li>

        </ul>
    </div>
    <div class='wrapper'>
        <h1 id="single-file-functions">Single File Functions</h1>
<p>To define a single file Lambda function:</p>
<ul>
<li>create a functions folder</li>
<li>create a .mjs file for your function</li>
</ul>
<pre class="hljs language-bash"><code class="hljs language-bash">/functions
    myBlueFunction.mjs
</code></pre>
<h2 id="what-does-a-single-file-function-look-like">What does a single file function look like?</h2>
<p>A single file function must export 2 things: a handler, and a config object:</p>
<pre class="hljs language-js"><code class="hljs language-js">export const config = {
    // ...my config. More details below
}

export const handler = async (event, rise, context) =&gt; {
    return 123
}
</code></pre>
<h1 id="folder-functions">Folder Functions</h1>
<p>To define a folder function:</p>
<ul>
<li>create a functions folder</li>
<li>create another folder with the name of your function</li>
<li>create an index.mjs file for your code.</li>
</ul>
<pre class="hljs language-bash"><code class="hljs language-bash">/functions
    /myBlueFunction
        /node_modules
        utils.mjs
        index.mjs
</code></pre>
<h2 id="indexmjs">index.mjs</h2>
<p>The index.mjs file inside the folder, like the single file function, must export 2 things: a handler, and a config object:</p>
<pre class="hljs language-js"><code class="hljs language-js">export const config = {
    // ...my config. More details below
}

export const handler = async (event, rise, context) =&gt; {
    return 123
}
</code></pre>
<h1 id="configuring-your-lambda-function">Configuring your Lambda Function</h1>
<p>The config object is how you configure your Lambda function.</p>
<h3 id="url">Url</h3>
<p>This will deploy an ApiGateway Http api endpoint and attach it to your lambda function. The format of the string is <code>{METHOD} {PATH}</code></p>
<pre class="hljs language-js"><code class="hljs language-js">export const config = {
    url: &#39;GET /notes&#39;
}
</code></pre>
<h3 id="eventbridge-rule">EventBridge Rule</h3>
<p>If <code>eventRule</code> is defined, rise-functions will setup an event bridge rule to trigger your lambda function</p>
<pre class="hljs language-js"><code class="hljs language-js">export const config = {
    eventRule: {
        source: &#39;user-service&#39;,
        event: &#39;user-created&#39;,
        eventBus: &#39;my bus&#39; // optional, Defaults to &quot;default&quot;
    }
}
</code></pre>
<h3 id="permissions">Permissions</h3>
<p>If <code>permissions</code> is set, you can add an array of IAM permissions to your lambda function:</p>
<pre class="hljs language-js"><code class="hljs language-js">export const config = {
    permissions: [
        {
            Effect: &#39;Allow&#39;,
            Action: &#39;dynamodb:Query&#39;,
            Resource: &#39;arn:aws:dynamodb:us-east-1:123412341234:table/myTable&#39;
        }
    ]
}
</code></pre>
<h3 id="environment-variables">Environment variables</h3>
<p>If <code>env</code> is defined, rise-functions provide the values defined in this object as environment variables. Your lambda function code will be able to reference them with <code>process.env.STRIPE_ID</code>.</p>
<pre class="hljs language-js"><code class="hljs language-js">export const config = {
    env: {
        STRIPE_ID: &#39;12341234&#39;
    }
}
</code></pre>
<h3 id="timeout">Timeout</h3>
<p>Timeout is set to 6 seconds by default. If you need your lambda function to run longer, you can increase the timeout to up to 900 seconds (15 minutes)</p>
<pre class="hljs language-js"><code class="hljs language-js">export const config = {
    timeout: 300
}
</code></pre>
<h3 id="alarm">Alarm</h3>
<p>If <code>alarm</code> is defined, rise-functions will create a CloudWatch Alarm on your lambda function to track errors.</p>
<pre class="hljs language-js"><code class="hljs language-js">export const config = {
    alarm: {
        threshold: 3, // number of errors that will trigger this alarm
        snsTopic: &#39;mytopic that sends notification somewhere&#39;,
        period: 60, // number of seconds the threshold will be evaulated.  Valid values are 10, 30, 60, and any multiple of 60.
        evaluationPeriods: 4,
        description: &#39;helpful text&#39;
    }
}
</code></pre>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script>
            let menuOpen = false;
            document.getElementById('menu-button')
                .addEventListener('click', () => {
                    menuOpen = !menuOpen
                    if (menuOpen) {
                        document.getElementById('menu').className = 'side-container open'
                        document.getElementById('menu-button').className = 'hamburger open'
                    } else {
                        document.getElementById('menu').className = 'side-container'
                        document.getElementById('menu-button').className = 'hamburger'
                    }
                })
    </script>
</body>
</html>